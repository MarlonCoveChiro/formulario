<script>
  const WEB_APP_URL = 'https://script.google.com/macros/s/AKfycbybNdibN0Z-BvXJbGlS7HRr13OwHSX0sAJ5HU22I8ZduJWrc2OTHkLIxtPoKuG7RW7Cxg/exec'; // <-- REEMPLAZA CON TU URL

  function registrar() {
    const data = {
      redSalud: document.getElementById("redSalud").value,
      fecha: document.getElementById("fecha").value,
      vacunas: {
        pentaMenor1: parseInt(document.getElementById("pentaMenor1").value) || 0,
        spr1anio: parseInt(document.getElementById("spr1anio").value) || 0,
        influ2: parseInt(document.getElementById("influ2").value) || 0,
        influ3: parseInt(document.getElementById("influ3").value) || 0,
        dpt4: parseInt(document.getElementById("dpt4").value) || 0,
        neumo60: parseInt(document.getElementById("neumo60").value) || 0,
        influ60: parseInt(document.getElementById("influ60").value) || 0,
        dptaGest: parseInt(document.getElementById("dptaGest").value) || 0,
        vph9a18: parseInt(document.getElementById("vph9a18").value) || 0,
      }
    };

    fetch(WEB_APP_URL, {
      method: "POST",
      body: JSON.stringify(data),
      headers: {
        "Content-Type": "application/json",
      },
    })
    .then(res => res.json())
    .then(response => {
      if (response.success) {
        alert("✅ " + response.message);
      } else {
        alert("❌ Error: " + response.message);
      }
    })
    .catch(err => {
      alert("⚠️ Error de red: " + err.message);
    });
  }
</script>
